<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.19" />
  <meta name="author" content="Mansour H. Alkmim">
  <meta name="description" content="MEng in Mechanical Engineering">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  <link rel="alternate" href="https://MansourAlkmim.github.io/index.xml" type="application/rss+xml" title="Mansour H. Alkmim">
  <link rel="feed" href="https://MansourAlkmim.github.io/index.xml" type="application/rss+xml" title="Mansour H. Alkmim">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="https://mansouralkmim.github.io/post/tikz/">

  

  <title>TikZ format and submitting papers | Mansour H. Alkmim</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Mansour H. Alkmim</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  

  <div class="article-container">
    <h1 itemprop="name">TikZ format and submitting papers</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2017-04-06 10:00:00 &#43;0000 UTC" itemprop="datePublished">
      Thu, Apr 6, 2017
    </time>
  </span>

  

  
  
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fmansouralkmim.github.io%2fpost%2ftikz%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=TikZ%20format%20and%20submitting%20papers&amp;url=https%3a%2f%2fmansouralkmim.github.io%2fpost%2ftikz%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmansouralkmim.github.io%2fpost%2ftikz%2f&amp;title=TikZ%20format%20and%20submitting%20papers"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fmansouralkmim.github.io%2fpost%2ftikz%2f&amp;title=TikZ%20format%20and%20submitting%20papers"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=TikZ%20format%20and%20submitting%20papers&amp;body=https%3a%2f%2fmansouralkmim.github.io%2fpost%2ftikz%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<p>Normally, the procedure of including figures consist of generating a .Fig from your programing language, generating a .eps or .pdf and then including it in your TeX. There is two essential problems with this scheme. The first one is that if you have to make small changes in the plot, you need to go back to your .Fig file and regenerate the output format again. The second problem comes from the type font utilized in the plot. If the plot aspect ratio is changed, chances are the font is also going to change.</p>

<p>A solution for this problem is using the package TikZ. TikZ is a TeX package for creating graphics. If you happen to use MatLab as your programming language to generate your plots a very useful <a href="https://www.mathworks.com/matlabcentral/fileexchange/22022-matlab2tikz-matlab2tikz" target="_blank">script</a> can be use to generate your plot in the TikZ format by invoking:</p>

<pre><code class="language-matlab">matlab2tikz('figure.tikz');
</code></pre>

<p>The following commands are needed in the LaTeX file:</p>

<pre><code class="language-latex">\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usetikzlibrary{plotmarks}
\usetikzlibrary{arrows.meta}
\usepgfplotslibrary{patchplots}
</code></pre>

<p>And in the document itself:</p>

<pre><code class="language-latex">\begin{figure}[!h]
    \subfloat[\label{fig:figure1}]{%
        \input{fig/figure1.tikz}
    }
    \hfill
    \subfloat[\label{fig:figure2}]{%
        \input{fig/figure2.tikz}
    }
    \caption{This is the caption.}
    \label{fig:label}
\end{figure}
</code></pre>

<p>Now, I had some problems with large size images. MikTeX has a limit of memory usage, and for some heavy TikZ files this limit can cause errors. The follow <a href="https://github.com/matlab2tikz/matlab2tikz/wiki/TeX-capacity-exceeded,-sorry" target="_blank">procedure</a> can be use to extend memory limits in MikTeX.</p>

<p>In Windows prompt, write:</p>

<pre><code>initexmf --edit-config-file=pdflatex
</code></pre>

<p>An editor will open, then write the following lines and save it:</p>

<pre><code>main_memory=6000000 
extra_mem_bot=3000000 
font_mem_size=3000000 
pool_size=3000000 
buf_size=3000000
</code></pre>

<p>Afterwards call <code>initexmf --dump=pdflatex</code>.</p>

<h1 id="subimitting-a-paper-to-journals">Subimitting a paper to journals</h1>

<p>After your paper is done and you are happy with your high quality images you decide to submit your paper for publication. The problem is that many journals do not accept the TikZ format (yet?). Two options arises. Go back to square one and redo all images the old fashion way. Or like I did, do research for a whole day to find a workaround method.</p>

<p>Fortunately, there is a neat way of converting your TikZ images to pdf maintaining the quality. The method consist of using the external library.</p>

<p>Add the following lines to you TeX file:</p>

<pre><code class="language-latex">\usetikzlibrary{external} %this one export the plot as a pdf
\tikzexternalize[prefix=figures/] %to this path
\tikzexternalize % activate the external library
</code></pre>

<p>Externalization relies on &lsquo;shell escape&rsquo;. When this is restricted or disabled, sometimes externalization can&rsquo;t work because it requires the compiler to spawn additional compilation commands in order to create each picture separately.
By default, this feature is disabled for security reasons. A restricted set of commands may be spawned, but this set is not sufficient for the compilation of the pictures.
Hence, you need to override the default setting by explicitly allowing unrestricted shell escape for the compilation. In TeXstudio configuration -&gt; command tab look for the pdflatex line and add to the end:</p>

<pre><code>-shell-escape
</code></pre>

<p>Mansour.</p>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="https://mansouralkmim.github.io/post/go/"><span
      aria-hidden="true">&larr;</span> An overview of AlphaGo and Artificial Intelligence</a></li>
    

    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'mansouralkmim-github-io-1';
    var disqus_identifier = 'https:\/\/mansouralkmim.github.io\/post\/tikz\/';
    var disqus_title = 'TikZ format and submitting papers';
    var disqus_url = 'https:\/\/mansouralkmim.github.io\/post\/tikz\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Mansour H. Alkmim &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-93048104-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    <script async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
    

  </body>
</html>

